A la hora de ejecutar el programa, se deben pasar dos parametros. El primero para escoger la opción que queremos:

1 (Listado de directorios)
2 (Leer un archivo de texto)

Y a continuación la ruta completa donde queremos guardar o leer el archivo.

Ejemplo: javac Main.java 1 C:\Users
Ejemplo: javac Main.java 2 C:\Pruebas.txt